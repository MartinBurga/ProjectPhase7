<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Detalles de {{ catequizando.nombreCatequizando }}</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    .card-title {
        font-weight: bold;
    }
    .card-body p {
        margin-bottom: 0.5rem;
    }
</style>
</head>
<body class="bg-light">

<div class="container mt-5">
    <h2 class="mb-4 text-center">Detalles de {{ catequizando.nombreCatequizando }} {{ catequizando.apellidoCatequizando }}</h2>

    <div class="row g-4">

        <!-- Información Personal -->
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    Información Personal
                </div>
                <div class="card-body">
                    <p><strong>Nombre:</strong> {{ catequizando.nombreCatequizando }}</p>
                    <p><strong>Apellido:</strong> {{ catequizando.apellidoCatequizando }}</p>
                    <p><strong>Cédula:</strong> {{ catequizando.cedulaCatequizando }}</p>
                    <p><strong>Fecha de Nacimiento:</strong> {{ catequizando.fechaNacimientoStr }}</p>
                    <p><strong>Tipo de Sangre:</strong> {{ catequizando.tipoSangre }}</p>
                    <p><strong>Lugar de Residencia:</strong> {{ catequizando.lugarResidencia }}</p>
                    <p><strong>Lugar de Nacimiento:</strong> {{ catequizando.lugarNacimiento }}</p>
                    <p><strong>Nivel:</strong> {{ catequizando.nombreNivel }}</p>
                </div>
            </div>
        </div>

        <!-- Representante -->
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    Representante
                </div>
                <div class="card-body">
                    <p><strong>Nombre:</strong> {{ catequizando.representante.nombreRepresentante }}</p>
                    <p><strong>Apellido:</strong> {{ catequizando.representante.apellidoRepresentante }}</p>
                    <p><strong>Cédula:</strong> {{ catequizando.representante.numeroRepresentante }}</p>
                    <p><strong>Tipo:</strong> {{ catequizando.representante.tipoRepresentante }}</p>
                    <p><strong>Ocupación:</strong> {{ catequizando.representante.ocupacionRepresentante }}</p>
                </div>
            </div>
        </div>

        <!-- Padrino -->
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-warning text-dark">
                    Padrino
                </div>
                <div class="card-body">
                    <p><strong>Nombre:</strong> {{ catequizando.padrino.nombresPadrino }}</p>
                    <p><strong>Cédula:</strong> {{ catequizando.padrino.cedulaPadrino }}</p>
                </div>
            </div>
        </div>

        <!-- Inscripción -->
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-info text-white">
                    Inscripción
                </div>
                <div class="card-body">
                    <p><strong>Fecha Inscripción:</strong> {{ catequizando.inscripcion.fechaInscripcionStr }}</p>
                    <p><strong>Estado:</strong> {{ "Activa" if catequizando.inscripcion.estadoInscripcion else "Inactiva" }}</p>
                </div>
            </div>
        </div>

        <!-- Última Falta / Inasistencia -->
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-danger text-white">
                    Última Falta
                </div>
                <div class="card-body">
                    {% if catequizando.inasistencia %}
                        <p><strong>Fecha:</strong> {{ catequizando.inasistencia.fechaInasistenciaStr }}</p>
                        <p><strong>Presente:</strong> {{ "Sí" if catequizando.inasistencia.presente else "No" }}</p>
                    {% else %}
                        <p>No hay faltas registradas</p>
                    {% endif %}
                </div>
            </div>
        </div>

    </div>

    <div class="mt-4 text-center">  
        <a href="{{ url_for('editar_catequizando', id=catequizando._id) }}" class="btn btn-warning">Editar</a>
        <a href="{{ url_for('catequizando') }}" class="btn btn-secondary">Volver al listado</a>
    </div>

</div>
</body>
</html>
